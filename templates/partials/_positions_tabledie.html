<!-- _positions_table.html -->
<div class="common-box mini-table-box" id="miniTableBox">
  <div class="chart-label" style="margin-bottom: 15px;">Positions</div>
  <div id="positionsContainer" class="positions-container">
    <table id="positionsTable">
      <thead>
        <tr>
          <th>Asset</th>
          <th>Wallet</th>
          <th>Heat Index</th>
          <th>Travel %</th>
          <th>Leverage</th>
        </tr>
      </thead>
      <tbody>
        {% for pos in positions %}
        <tr>
          <td>
            N/A
          </td>
          <td>
            <img class="wallet-icon"
                 src="{{ url_for('static', filename='images/' + pos.wallet_image) }}"
                 alt="{{ pos.wallet }}"
                 onerror="this.style.display='none';" />
          </td>
          <td>
            {% if pos.heat_index is defined and pos.heat_index is not none %}
              <strong>{{ pos.heat_index|int }}</strong>
            {% else %}
              N/A
            {% endif %}
          </td>
          <td>
            {% if pos.travel_percent is defined and pos.travel_percent is not none %}
              {{ "{:,.2f}".format(pos.travel_percent) }}%
            {% else %}
              N/A
            {% endif %}
          </td>
          <td>
            {% if pos.leverage is defined and pos.leverage is not none %}
              {{ "{:,.2f}".format(pos.leverage) }}
            {% else %}
              N/A
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
